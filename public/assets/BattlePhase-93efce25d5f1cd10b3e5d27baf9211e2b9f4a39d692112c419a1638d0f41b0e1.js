function startBattlePhase(a,e){function t(){P.load.image("player_1","/assets/player_1-9ff3f2c39e02ed53bd17844087bb347fbb8c31899bdd7a4c6b2ec86e115a7395.png"),console.log("inputPhase: player_1 path/assets/player_1-9ff3f2c39e02ed53bd17844087bb347fbb8c31899bdd7a4c6b2ec86e115a7395.png"),P.load.image("player_2","/assets/player_2-a58d6b8b1b62ac22c99806cb61c8813a01ddcd458eb4c54897a11506574e4bd6.png"),P.load.image("player_3","/assets/player_3-7502ee3cab3ceddaa149fef664b0546af4c246893bc6ad765cc0f85d7381893d.png"),P.load.image("player_4","/assets/player_4-a5a83be7facf196e67ffefff75b59e25a55071a91c1272a65bfcfd296c3b62b6.png"),P.load.image("projectile_1","/assets/projectile-cfde10e78ac58772a54a766d085ac845faff9a0e0b173a62b99a51b0e2ec662b.png"),P.load.image("projectile_2","/assets/projectile-cfde10e78ac58772a54a766d085ac845faff9a0e0b173a62b99a51b0e2ec662b.png"),P.load.image("projectile_3","/assets/projectile-cfde10e78ac58772a54a766d085ac845faff9a0e0b173a62b99a51b0e2ec662b.png")}function o(){P.physics.startSystem(Phaser.Physics.ARCADE),P.stage.backgroundColor="#313131",v=d(player_data),u={font:"bold 32px Arial",fill:"#fff",align:"center"},x=P.add.text(P.world.centerX,P.world.centerY,"Counter: 10",u),x.anchor.setTo(.5,.5),b=P.add.sprite(v[0],v[1],"projectile_1"),h=P.add.sprite(v[0],v[1],"projectile_2"),f=P.add.sprite(v[0],v[1],"projectile_3"),P.physics.enable(b,Phaser.Physics.ARCADE),P.physics.enable(h,Phaser.Physics.ARCADE),P.physics.enable(f,Phaser.Physics.ARCADE),P.physics.arcade.enable(b),P.physics.arcade.enable(h),P.physics.arcade.enable(f),b.body.collideWorldBounds=!0,h.body.collideWorldBounds=!0,f.body.collideWorldBounds=!0,b.body.bounce.setTo(1,1),h.body.bounce.setTo(1,1),f.body.bounce.setTo(1,1),i=P.add.sprite(player_data[0].position_x,player_data[0].position_y,"player_1"),p=P.add.sprite(player_data[1].position_x,player_data[1].position_y,"player_2"),y=P.add.sprite(player_data[2].position_x,player_data[2].position_y,"player_3"),n=P.add.sprite(player_data[3].position_x,player_data[3].position_y,"player_4"),P.physics.enable(i,Phaser.Physics.ARCADE),P.physics.enable(p,Phaser.Physics.ARCADE),P.physics.enable(y,Phaser.Physics.ARCADE),P.physics.enable(n,Phaser.Physics.ARCADE),P.physics.arcade.enable(i),P.physics.arcade.enable(p),P.physics.arcade.enable(y),P.physics.arcade.enable(n),i.body.collideWorldBounds=!0,p.body.collideWorldBounds=!0,y.body.collideWorldBounds=!0,n.body.collideWorldBounds=!0,r(i,player_data[0].is_alive),r(p,player_data[1].is_alive),r(y,player_data[2].is_alive),r(n,player_data[3].is_alive),P.physics.arcade.moveToXY(b,v[2],v[3],500),P.physics.arcade.moveToXY(h,v[4],v[5],500),P.physics.arcade.moveToXY(f,v[6],v[7],500),player_data[0].is_attacker||(P.add.tween(i).to({x:[player_data[0].action_1_x,player_data[0].action_2_x,player_data[0].action_3_x],y:[player_data[0].action_1_y,player_data[0].action_2_y,player_data[0].action_3_y]},8e3,null,!0),player_data[0].position_x=player_data[0].action_3_x,player_data[0].position_y=player_data[0].action_3_y),player_data[1].is_attacker||(P.add.tween(p).to({x:[player_data[1].action_1_x,player_data[1].action_2_x,player_data[1].action_3_x],y:[player_data[1].action_1_y,player_data[1].action_2_y,player_data[1].action_3_y]},8e3,null,!0),player_data[1].position_x=player_data[1].action_3_x,player_data[1].position_y=player_data[1].action_3_y),player_data[2].is_attacker||(P.add.tween(y).to({x:[player_data[2].action_1_x,player_data[2].action_2_x,player_data[2].action_3_x],y:[player_data[2].action_1_y,player_data[2].action_2_y,player_data[2].action_3_y]},8e3,null,!0),player_data[2].position_x=player_data[2].action_3_x,player_data[2].position_y=player_data[2].action_3_y),player_data[3].is_attacker||(P.add.tween(n).to({x:[player_data[3].action_1_x,player_data[3].action_2_x,player_data[3].action_3_x],y:[player_data[3].action_1_y,player_data[3].action_2_y,player_data[3].action_3_y]},8e3,null,!0),player_data[3].position_x=player_data[3].action_3_x,player_data[3].position_y=player_data[3].action_3_y),P.time.events.loop(Phaser.Timer.SECOND,c,this)}function _(){P.physics.arcade.overlap(i,b)&&s(player_data[0],i,b),P.physics.arcade.overlap(i,h)&&s(player_data[0],i,h),P.physics.arcade.overlap(i,f)&&s(player_data[0],i,f),P.physics.arcade.overlap(p,b)&&s(player_data[1],p,b),P.physics.arcade.overlap(p,h)&&s(player_data[1],p,h),P.physics.arcade.overlap(p,f)&&s(player_data[1],p,f),P.physics.arcade.overlap(y,b)&&s(player_data[2],y,b),P.physics.arcade.overlap(y,h)&&s(player_data[2],y,h),P.physics.arcade.overlap(y,f)&&s(player_data[2],y,f),P.physics.arcade.overlap(n,b)&&s(player_data[3],n,b),P.physics.arcade.overlap(n,h)&&s(player_data[3],n,h),P.physics.arcade.overlap(n,f)&&s(player_data[3],n,f)}function d(a){console.log("check attacker"),console.log(a);for(var e=[],t=0;4>t;t++)a[t].is_attacker&&(e[0]=a[t].position_x,e[1]=a[t].position_y,e[2]=a[t].action_1_x,e[3]=a[t].action_1_y,e[4]=a[t].action_2_x,e[5]=a[t].action_2_y,e[6]=a[t].action_3_x,e[7]=a[t].action_3_y);return e}function r(a,e){e||a.destroy()}function c(){if(g--,x.setText("Counter: "+g),0==g){P.time.events.stop();var a=P.add.text(P.world.centerX,P.world.centerY+50,"Waiting For Other Players....",u);a.anchor.setTo(.5,.5),l(),console.log(player_data),P.destroy(),gameAnimationComplete(player_data)}}function l(){P.physics.arcade.isPaused=!P.physics.arcade.isPaused}function s(a,e,t){a.is_attacker||(e.kill(),t.kill(),a.is_alive=!1)}player_data=a;var i,p,y,n,b,h,f,x,u,v=[],g=10;canvas_location="battle-phase-canvas-"+e;var P=new Phaser.Game(800,600,Phaser.CANVAS,canvas_location,{preload:t,update:_,create:o})}